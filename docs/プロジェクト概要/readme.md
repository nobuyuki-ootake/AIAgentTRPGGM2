# AIAgentTRPGGM プロジェクト概要

## プロジェクト概要

AIAgentTRPGGM は、AI を活用した TRPG（テーブルトーク RPG）キャンペーン管理およびゲームマスター支援ツールです。ゲームマスターが TRPG キャンペーンの作成・運営を効率的に行えるよう、包括的な AI アシスタンス機能を提供します。

### 主要機能

- **キャンペーン管理**: キャンペーンの作成から運営まで一元管理
- **キャラクター管理**: PC・NPC・敵キャラクターの包括的管理
- **セッション実行**: リアルタイムでのセッション進行支援
- **AI 統合**: 複数の AI プロバイダーによる包括的支援
- **タイムライン管理**: イベントとクエストの時系列管理

## ドキュメント構成

### 🔧 開発ルール・規約 (`docs/rules/`)

プロジェクト開発における基本ルールと規約を定義したドキュメント群。

- **[開発ルール](../rules/development-rules.md)**
  - プロジェクト起動と開発環境の設定
  - ビルドとテストの実行方法
  - コミット前の必須作業
  - エラーハンドリング方針

- **[テストルール](../rules/testing-rules.md)**
  - テストデータ作成の重要ルール
  - UI テスト実施方針
  - ブラウザ検証手順
  - 型安全性の確保

- **[アーキテクチャルール](../rules/architecture-rules.md)**
  - モノレポ構造と技術スタック
  - 重要なアーキテクチャパターン
  - コンポーネント設計原則
  - API 設計パターン

- **[型安全性ルール](../rules/type-safety-rules.md)**
  - TypeScript の活用方針
  - 共通型定義の運用
  - テストデータの型安全性
  - 型エラー対応

### 📋 機能要件定義 (`docs/機能要件定義/`)

各ページ・機能の詳細な機能要件を定義したドキュメント群。

- **[ホームページ機能要件](../機能要件定義/home-page-requirements.md)**
  - キャンペーン一覧表示・管理
  - キャンペーン作成ウィザード
  - AI 統合によるキャンペーン作成支援

- **[キャンペーン設定機能要件](../機能要件定義/campaign-setup-requirements.md)**
  - 段階的設定ウィザード
  - 世界設定の基盤構築
  - AI による設定アシスタント機能

- **[キャラクター管理機能要件](../機能要件定義/character-management-requirements.md)**
  - PC・NPC・Enemy の包括的管理
  - キャラクターシート機能
  - パーティバランス分析

- **[タイムライン管理機能要件](../機能要件定義/timeline-page-requirements.md)**
  - イベント・クエストの時系列管理
  - イベントシード機能
  - 条件イベントシステム

- **[TRPG セッション機能要件](../機能要件定義/trpg-session-requirements.md)**
  - リアルタイムセッション実行
  - ダイスシステムとスキルチェック
  - AI によるゲームマスターアシスタント

- **[AI 統合機能要件](../機能要件定義/ai-integration-requirements.md)**
  - マルチプロバイダー AI 統合
  - AI ペルソナ管理
  - セキュリティとパフォーマンス最適化

### ⚡ 非機能要件定義 (`docs/非機能要件定義/`)

システムの品質特性に関する要件を定義したドキュメント群。

- **[パフォーマンス要件](../非機能要件定義/performance-requirements.md)**
  - 応答時間・スループット要件
  - メモリ・CPU 使用量制限
  - 最適化とモニタリング要件

- **[セキュリティ要件](../非機能要件定義/security-requirements.md)**
  - データ保護・認証認可
  - AI セキュリティ対策
  - インシデント対応・プライバシー保護

- **[ユーザビリティ要件](../非機能要件定義/usability-requirements.md)**
  - 学習性・効率性・満足度要件
  - アクセシビリティ対応
  - レスポンシブデザイン

- **[信頼性要件](../非機能要件定義/reliability-requirements.md)**
  - 可用性・耐障害性
  - データ整合性・エラー処理
  - 災害復旧・品質保証

- **[スケーラビリティ要件](../非機能要件定義/scalability-requirements.md)**
  - 水平・垂直スケーラビリティ
  - AI 機能の拡張性
  - 将来技術への対応

- **[保守性要件](../非機能要件定義/maintainability-requirements.md)**
  - コード品質・技術的負債管理
  - ドキュメント管理・バージョン管理
  - テスト戦略・運用監視

- **[互換性要件](../非機能要件定義/compatibility-requirements.md)**
  - ブラウザ・OS・デバイス対応
  - 外部システム統合
  - 国際化・アクセシビリティ

## 技術スタック

### フロントエンド
- **React 18**: SPA フレームワーク
- **Material UI**: UI コンポーネントライブラリ
- **Recoil**: 状態管理
- **React Router v7**: ルーティング
- **Vite**: ビルドツール
- **TypeScript**: 型安全性

### バックエンド
- **Express.js**: Web サーバーフレームワーク
- **TypeScript**: 型安全性
- **Litestream**: データベース
- **Mastra**: AI エージェントフレームワーク
- **Google Cloud Storage**: ファイルストレージ

### AI 統合
- **OpenAI**: GPT-3.5, GPT-4
- **Anthropic**: Claude 2, Claude 3
- **Google**: Gemini Pro
- **カスタムエンドポイント**: OpenAI 互換 API

## 開発環境セットアップ

### 必須事項
```bash
# 必ず統一された安全起動スクリプトを使用
./start-dev.sh                       # ローカル開発環境
./start-dev.sh --docker              # Docker開発環境
./start-dev.sh --docker --build      # Dockerビルド付き起動
```

### ビルド・テスト
```bash
pnpm build                 # 全パッケージビルド
pnpm lint                  # 全パッケージリント
pnpm test:e2e              # E2Eテスト実行
```

## プロジェクト構造

```
AIAgentTRPGGM/
├── apps/
│   ├── frontend/          # React 18 SPA
│   └── proxy-server/      # Express.js API
├── packages/
│   └── types/            # 共通型定義
├── docs/                 # プロジェクトドキュメント
│   ├── rules/           # 開発ルール・規約
│   ├── 機能要件定義/     # 機能要件
│   ├── 非機能要件定義/   # 非機能要件
│   └── プロジェクト概要/ # プロジェクト概要
└── CLAUDE.md            # Claude Code 向けガイド
```

## 重要な設計原則

### 型安全性
- **テストデータ用の型定義は絶対に作成しない**
- **本番と同じ型を使ってテストデータを作成**
- `packages/types/index.ts` の共通型定義を活用

### エラーハンドリング
- **フォールバック実装を避ける**
- **ユーザーが解消できるエラーの明確な提示**
- **API キーのフロント開示は重大インシデント**

### コンポーネント設計
- **単一責任の原則**
- **800行程度でファイル分割を検討**
- **UI とロジックの適切な分離**

## 学習プロジェクトとしての特徴

このプロジェクトは **バイブコーディング学習** のための教育的プロジェクトです：

- **TDD**: コアロジックは TDD で実装
- **リアルタイム確認**: UI の動作を画面で確認
- **視覚的検証**: browsermcp によるスクリーンショット確認
- **ドキュメント重視**: 変更内容の詳細記録

## 次のステップ

1. **[要件定義](./要件定義.md)** で包括的な要件を確認
2. **[CLAUDE.md](../../CLAUDE.md)** で実装ガイドラインを確認
3. 適切な開発環境をセットアップ
4. テストルールに従って品質を確保

## 関連ドキュメント

- **[要件定義](./要件定義.md)**: 全要件の統合版
- **[CLAUDE.md](../../CLAUDE.md)**: 実装ガイドライン
- **[README.md](../../README.md)**: プロジェクトルートの README

---

このプロジェクトは継続的に進化しており、新しい機能や改善が継続的に追加されています。質問や提案がある場合は、適切なドキュメントを参照するか、issue を作成してください。