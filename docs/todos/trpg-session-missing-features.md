# TRPGセッション画面 - 未実装機能 Todoリスト

現在のTRPGセッション画面の実装状況を分析し、フロー文書と照らし合わせて足りない実装をまとめました。

## 🔴 Critical Priority - 中核システム

### 1. WebSocket仲間自律行動システム
- [ ] WebSocket接続の基盤実装 (Socket.IO)
- [ ] サーバー側状況分析エンジン
- [ ] 仲間キャラクター反応判定ロジック
- [ ] リアルタイムメッセージプッシュ機能
- [ ] 仲間AI個性別反応生成
- [ ] WebSocketフォールバック機能

### 2. パワーチェック・ミニゲーム
- [ ] パワーチェックUIコンポーネント作成
- [ ] 強行突破系チェック判定ロジック
- [ ] プログレスバー型チェック実装
- [ ] タイミングゲーム要素
- [ ] パワーチェック結果処理

### 3. スキルチェック・ミニゲーム  
- [ ] スキルチェックUIコンポーネント作成
- [ ] 技能別チェック種別実装
- [ ] インタラクティブスキルチャレンジ
- [ ] タイミング・精度要求ゲーム
- [ ] スキルチェック結果処理

## 🟡 High Priority - ゲーム進行管理

### 4. クエスト管理システム
- [ ] クエスト管理画面UI作成
- [ ] メインクエスト・サブクエスト分類
- [ ] クエスト進行状況トラッキング
- [ ] クエスト目標達成判定
- [ ] クエスト選択・実行フロー
- [ ] クエスト完了報酬システム

### 5. マイルストーン・進捗管理
- [ ] マイルストーン管理コンポーネント
- [ ] 経験値・レベルアップシステム
- [ ] 達成度トラッキング
- [ ] キャンペーン進行指標
- [ ] クリア条件管理

### 6. ターン・時間管理システム
- [ ] ターン制管理ロジック（戦闘外）
- [ ] 1日の行動回数制限実装
- [ ] 日付進行システム
- [ ] 時間経過による状態変化
- [ ] 最終日判定・ゲーム終了条件

## 🟢 Medium Priority - AIゲームマスター強化

### 7. アプローチ・難易度判定システム
- [ ] プレイヤーアプローチ解析
- [ ] AI難易度動的調整
- [ ] アプローチ論理性評価
- [ ] チェック種別自動判定
- [ ] リトライ機能（難易度低下）

### 8. AIゲームマスター強化
- [ ] セッション開始時のゲーム概要生成
- [ ] タスク内容説明生成
- [ ] 結果判定・フィードバック生成
- [ ] 動的シナリオ調整
- [ ] 状況に応じた演出生成

### 9. 仲間キャラクター個性システム
- [ ] 戦士反応パターン
- [ ] 魔法使い反応パターン
- [ ] 盗賊専用反応パターン
- [ ] キャラクターの性格を考慮して反応パターンと会話タイミングを調整
- [ ] 状況適応反応（成功/失敗連続時など）
- [ ] 自然な会話タイミング調整

## 🔵 Low Priority - ユーザビリティ向上

### 10. 行動選択UI改善
- [ ] 探索行動選択インターフェース
- [ ] 拠点行動選択インターフェース
- [ ] 仲間との交流インターフェース
- [ ] 場所移動選択インターフェース
- [ ] 行動選択時のヒント表示

### 11. 結果処理・報酬システム
- [ ] アイテム獲得システム
- [ ] 報酬表示・管理UI
- [ ] 失敗時ペナルティ処理
- [ ] 成功時ボーナス表示
- [ ] 結果アニメーション

### 12. セッション管理機能
- [ ] セッション状態保存・復元
- [ ] セッション履歴管理
- [ ] セッション統計・レポート
- [ ] エクスポート・インポート機能

## 📋 実装優先度の理由

### Critical Priority
- **WebSocket仲間自律システム**: フロー図の中核機能で、リアルタイム性が重要
- **パワー・スキルチェック**: ゲームプレイの根幹部分で必須

### High Priority  
- **クエスト・マイルストーン**: ゲーム進行に直結する重要システム
- **ターン・時間管理**: TRPGセッションの構造的要素

### Medium Priority
- **AI強化**: ユーザー体験向上に重要だが基本機能は動作可能

### Low Priority
- **UI改善・管理機能**: 基本機能があれば最低限のプレイは可能

## 🔧 技術的考慮事項

1. **WebSocket実装**: Socket.IOを使用してサーバー側との安定したリアルタイム通信
2. **型安全性**: packages/types の既存型定義を活用
3. **コンポーネント設計**: 既存のDiceRollUI等の実装パターンを参考
4. **AI統合**: 既存のAIControlPanelの実装パターンを拡張
5. **状態管理**: useSessionフックを拡張してゲーム状態管理

## 📅 作成日時
2025-06-19

## 📝 備考
この文書は `/home/irure/AIAgentTRPGGM2/docs/機能要件定義/TRPGセッション_フロー.md` の要件と現在の実装を比較して作成されました。実装進捗に応じて定期的に更新してください。